<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ONTHEWALL — Design, Digital Marketing, Web Development. Get in touch to grow your brand." />
  <title>ONTHEWALL — Digital Marketing & Design</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com" defer></script>

  <!-- Preload key image to avoid flicker -->
  <link rel="preload" as="image" href="https://i.ibb.co/tP2gP6p7/fly-vector.webp" />
  <link rel="icon" href="https://i.ibb.co/DDNShDkV/onthewall-circle.png" />

  <style>
    :root {
      --brand:#0044cb;
      --ink:#0f172a;
      --paper:#ffffff;
    }
    html, body { height: 100%; }
    body {
      margin: 0;
      overflow: hidden; /* prevent scroll while the fly roams */
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--brand);
      background: var(--paper);
      display: grid;
      grid-template-rows: auto 1fr auto;
    }

    /* Card container */
    .card {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 1.25rem;
      background: var(--paper);
      box-shadow: 8px 8px 0 0 var(--brand);
      max-width: 640px;
      width: min(92vw, 640px);
      border: 2px solid var(--brand);
      max-height: 80vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      box-sizing: border-box;
      margin-inline: auto;
    }

    /* Contact form */
    .contact-form input[type="text"],
    .contact-form input[type="email"],
    .contact-form textarea {
      width: 100%;
      padding: 0.5rem;
      border: 2px solid var(--brand);
      border-radius: 0;
      font-size: 0.95rem;
      color: var(--brand);
      background: var(--paper);
    }
    .contact-form button {
      width: 100%;
      padding: 0.75rem 1rem;
      background: var(--brand);
      color: var(--paper);
      border: none;
      border-radius: 0;
      cursor: pointer;
      transition: transform 80ms ease;
      font-size: 1rem;
      font-weight: 700;
      box-shadow: 4px 4px 0 0 var(--ink/0.1);
    }
    .contact-form button:hover { transform: translate(2px, 2px); }

    /* === Services layout (two rows; originals stay on first row) === */
    .service-checkboxes { display:flex; flex-direction:column; gap:0.35rem; align-items:center; justify-content:center; }
    .service-row { display:flex; flex-wrap:nowrap; gap:0.75rem; justify-content:center; }
    .service-row label { display:flex; align-items:center; gap:0.35rem; }
    .service-checkboxes input[type="checkbox"] {
      appearance: none; width: 16px; height: 16px; border: 2px solid var(--brand); display: inline-grid; place-content: center;
    }
    .service-checkboxes input[type="checkbox"]:checked { background: var(--brand); color: #fff; }
    .service-checkboxes input[type="checkbox"]:checked::after { content: "✔"; font-size: 12px; line-height: 1; }

    /* Fly */
    .fly {
      position: fixed;
      inset: 0; /* allow transform-origin from center */
      width: 40px; height: 40px;
      transform: translate3d(-50%, -50%, 0);
      will-change: transform;
      display: grid; place-items: center;
      z-index: 100; pointer-events: none;
    }
    .fly img { width: 100%; height: 100%; object-fit: contain; filter: drop-shadow(0 0 1px #fff) drop-shadow(0 0 1px #fff); }

    /* Trail */
    #fly-trail { position: fixed; inset: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 90; }

    /* Reduced motion: keep brand but stop animation for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .fly, #fly-trail { display: none !important; }
      body { overflow: auto; }
    }

    @media (max-width: 768px) {
      .card { max-height: calc(100vh - 120px); }
      /* If the screen is extremely narrow, allow the first row to wrap gracefully */
      .service-row { flex-wrap: wrap; }
    }
  </style>
</head>
<body>
  <!-- Header (landing zone for the fly) -->
  <header class="w-full p-2 text-center bg-white shadow-md z-20 border-b-2 border-[#0044cb]" data-landing-zone>
    <img src="https://i.ibb.co/DDNShDkV/onthewall-circle.png" alt="ONTHEWALL logo" width="48" height="48" class="h-12 mx-auto w-auto" />
  </header>

  <!-- SVG trail -->
  <svg id="fly-trail" aria-hidden="true">
    <path id="trail-path-stroke" d="" stroke="white" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" fill="none" />
    <path id="trail-path" d="" stroke="var(--brand)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="8 8" fill="none" />
  </svg>

  <!-- The fly -->
  <div class="fly" aria-hidden="true" id="fly">
    <img src="https://i.ibb.co/tP2gP6p7/fly-vector.webp" alt="Decorative fly" />
  </div>

  <main class="grid place-items-center">
    <section class="card" data-landing-zone>
      <h1 class="text-2xl md:text-3xl font-extrabold mb-2 text-[#0044cb]">ONTHEWALL</h1>
      <div class="flex flex-wrap justify-center items-center gap-1 mb-4 text-xs md:text-base font-bold">
        <span>DESIGN</span><span>DIGITAL MARKETING</span><span>WEB DEVELOPMENT</span>
      </div>
      <p class="mb-4 text-sm text-slate-800">Ready to take your brand to the next level?</p>

      <form id="contact-form" class="contact-form grid gap-2 my-2" method="POST" action="#" novalidate>
        <div class="text-left">
          <label for="name" class="sr-only">Your name</label>
          <input id="name" name="name" type="text" placeholder="YOUR NAME" required autocomplete="name" class="focus:ring-2 focus:ring-[#0044cb] focus:outline-none" />
        </div>
        <div class="text-left">
          <label for="company" class="sr-only">Your company</label>
          <input id="company" name="company" type="text" placeholder="YOUR COMPANY" autocomplete="organization" class="focus:ring-2 focus:ring-[#0044cb] focus:outline-none" />
        </div>
        <div class="text-left">
          <label for="email" class="sr-only">Your email address</label>
          <input id="email" name="email" type="email" placeholder="YOUR EMAIL ADDRESS" required autocomplete="email" inputmode="email" class="focus:ring-2 focus:ring-[#0044cb] focus:outline-none" />
        </div>
        <div class="text-left">
          <label for="message" class="sr-only">Your message</label>
          <textarea id="message" name="message" placeholder="YOUR MESSAGE" rows="3" required class="focus:ring-2 focus:ring-[#0044cb] focus:outline-none"></textarea>
        </div>

        <fieldset aria-labelledby="services-label" class="text-center">
          <legend id="services-label" class="text-sm font-bold mb-1">Interested in:</legend>
          <div class="service-checkboxes">
            <div class="service-row service-row-1">
              <label><input type="checkbox" name="services" value="Brand Design" /> Brand Design</label>
              <label><input type="checkbox" name="services" value="SEO" /> SEO</label>
              <label><input type="checkbox" name="services" value="UX/UI" /> UX/UI</label>
              <label><input type="checkbox" name="services" value="Web Development" /> Web Development</label>
            </div>
            <div class="service-row service-row-2">
              <label><input type="checkbox" name="services" value="Content Creation" /> Content Creation</label>
              <label><input type="checkbox" name="services" value="Advertising" /> Advertising</label>
              <label><input type="checkbox" name="services" value="Email Marketing" /> Email Marketing</label>
              <label><input type="checkbox" name="services" value="Analytics" /> Analytics</label>
            </div>
          </div>
        </fieldset>

        <button type="submit" aria-label="Submit contact form">SUBMIT</button>
        <p id="form-status" class="text-xs text-slate-600" role="status" aria-live="polite"></p>
      </form>
    </section>
  </main>

  <footer class="w-full p-2 text-[#0044cb] bg-white text-xs md:text-sm z-20 border-t-2 border-[#0044cb]" data-landing-zone>
    <div class="flex flex-col md:flex-row items-center justify-between max-w-7xl mx-auto gap-2">
      <div>
        <a href="mailto:info@onthewall.site" class="hover:underline">INFO@ONTHEWALL.SITE</a>
      </div>
      <nav class="flex gap-3" aria-label="Social links">
        <a href="#" aria-label="Twitter" class="hover:opacity-75">
          <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.564-2.005.974-3.127 1.195a4.959 4.959 0 00-8.465 4.523c-4.156-.21-7.864-2.203-10.334-5.23a4.962 4.962 0 00-.665 2.477c0 1.716.87 3.232 2.188 4.128a4.92 4.92 0 01-2.23-.616v.06a4.96 4.96 0 003.982 4.862 4.93 4.93 0 01-2.221.084 4.96 4.96 0 004.624 3.447A9.974 9.974 0 010 20.375a14.075 14.075 0 007.64 2.24c9.165 0 14.186-7.593 14.186-14.186 0-.216-.005-.432-.015-.646a10.172 10.172 0 002.493-2.583z"/></svg>
        </a>
        <a href="#" aria-label="Instagram" class="hover:opacity-75">
          <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
            <circle cx="12" cy="12" r="5" fill="currentColor" />
            <circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" />
          </svg>
        </a>
        <a href="#" aria-label="LinkedIn" class="hover:opacity-75">
          <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M22.23 0H1.77A1.77 1.77 0 000 1.77v20.46A1.77 1.77 0 001.77 24h20.46A1.77 1.77 0 0024 22.23V1.77A1.77 1.77 0 0022.23 0zM7.05 20.46H3.5V9h3.55v11.46zM5.27 7.55c-1.16 0-2.1-.94-2.1-2.1 0-1.16.94-2.1 2.1-2.1s2.1.94 2.1 2.1c0 1.16-.94 2.1-2.1 2.1zm15.19 12.91h-3.55V14c0-1.3-.47-2.19-1.61-2.19-1.22 0-1.94.85-1.94 2.16v6.5h-3.56s.05-10.45 0-11.46H14.1s.05 1.58 0 2.5v.1c.54-.78 1.49-1.9 3.37-1.9 2.45 0 4.2 1.63 4.2 5.17v5.59z"/></svg>
        </a>
      </nav>
      <div>&copy; <span id="year"></span> ONTHEWALL. All Rights Reserved.</div>
    </div>
  </footer>

  <script type="module">
    // ===== Utilities =====
    const clamp = (n, min, max) => Math.min(max, Math.max(min, n));
    const rand = (min, max) => Math.random() * (max - min) + min;

    // Lightweight 2D value noise (smooth drift)
    function valueNoise2D(x, y) {
      const x0 = Math.floor(x), y0 = Math.floor(y);
      const x1 = x0 + 1, y1 = y0 + 1;
      const sx = x - x0, sy = y - y0;
      const h = (i, j) => {
        // pseudo-random but deterministic per integer lattice point
        const n = i * 374761393 + j * 668265263; // large primes
        const a = (n ^ (n << 13)) >>> 0;
        return (a * 1274126177 >>> 0) / 0xffffffff; // [0,1)
      };
      const v00 = h(x0, y0), v10 = h(x1, y0), v01 = h(x0, y1), v11 = h(x1, y1);
      const lerp = (a,b,t) => a + (b - a) * (t * t * (3 - 2 * t)); // smoothstep
      const ix0 = lerp(v00, v10, sx);
      const ix1 = lerp(v01, v11, sx);
      return lerp(ix0, ix1, sy) * 2 - 1; // [-1,1]
    }

    // ===== DOM refs =====
    const fly = document.getElementById('fly');
    const img = fly.querySelector('img');
    const trail = document.getElementById('fly-trail');
    const trailPath = document.getElementById('trail-path');
    const trailStroke = document.getElementById('trail-path-stroke');
    const landingZones = Array.from(document.querySelectorAll('[data-landing-zone]'));

    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== Motion model (housefly-inspired) =====
    // Mix of noise-driven drift, short saccades, occasional land+groom pauses.
    // References: observed fly behavior — bursty motion, edge following, frequent stops.

    const state = {
      x: innerWidth / 2,
      y: innerHeight / 2,
      z: 0, // depth for subtle scale (perspective)
      vx: rand(-0.5, 0.5),
      vy: rand(-0.5, 0.5),
      speedMaxCruise: 1.8,
      speedMaxBurst: 5.0,
      friction: 0.985,
      mode: 'cruise', // 'cruise' | 'saccade' | 'landed'
      modeUntil: 0,
      headingJitter: 0,
      lastTrailAt: 0,
    };

    let cursor = {x: state.x, y: state.y};
    const repelRadius = 140;
    const repelForce = 120; // pixels/s^2 when very close

    // Trail points
    const trailPts = Array.from({ length: 20 }, () => ({ x: state.x, y: state.y }));
    const elasticity = 0.25;

    // Resize cache
    let vw = innerWidth, vh = innerHeight;
    addEventListener('resize', () => { vw = innerWidth; vh = innerHeight; });

    // Cursor repel (passive listener for perf)
    addEventListener('mousemove', (e) => { cursor.x = e.clientX; cursor.y = e.clientY; }, { passive: true });

    // Prefer reduced motion: bail out gracefully
    const reduced = matchMedia('(prefers-reduced-motion: reduce)');
    if (reduced.matches) { /* hidden via CSS */ }

    // Landing logic: occasionally choose a zone and perch
    function maybeLand(now) {
      if (state.mode !== 'cruise') return;
      if (Math.random() < 0.003) { // ~0.3% chance per frame
        const zone = landingZones[Math.floor(Math.random() * landingZones.length)];
        const rect = zone.getBoundingClientRect();
        const pad = 20;
        const tx = clamp(rand(rect.left + pad, rect.right - pad), 20, vw - 20);
        const ty = clamp(rand(rect.top + pad, rect.bottom - pad), 20, vh - 20);
        state.mode = 'saccade';
        state.modeUntil = now + 180 + Math.random() * 220; // short dart to target
        // Velocity toward target (burst)
        const dx = tx - state.x, dy = ty - state.y;
        const d = Math.hypot(dx, dy) || 1;
        const s = state.speedMaxBurst;
        state.vx = (dx / d) * s; state.vy = (dy / d) * s;
        // After the dart, switch to landed for grooming pause
        setTimeout(() => {
          state.mode = 'landed';
          state.modeUntil = performance.now() + 600 + Math.random() * 1200; // 0.6–1.8s
          state.vx = 0; state.vy = 0;
        }, state.modeUntil - now);
      }
    }

    // Update physics each frame
    let t0 = performance.now();
    function step(now) {
      const dt = Math.min(32, now - t0) / 1000; // seconds, clamp to avoid big jumps
      t0 = now;

      // Mode transitions
      if (state.mode === 'landed') {
        if (now >= state.modeUntil) {
          // Take off with a small burst, random heading
          const angle = Math.random() * Math.PI * 2;
          const s = rand(2.5, state.speedMaxBurst);
          state.vx = Math.cos(angle) * s; state.vy = Math.sin(angle) * s;
          state.mode = 'cruise';
          state.modeUntil = now + rand(1800, 4000);
        }
      } else if (state.mode === 'saccade') {
        if (now >= state.modeUntil) {
          // allow next phase to be scheduled by maybeLand()
        }
      } else if (state.mode === 'cruise') {
        if (now >= state.modeUntil) {
          // Schedule next chance for a bursty saccade
          state.modeUntil = now + rand(800, 2200);
        }
      }

      if (state.mode !== 'landed') {
        // Noise-driven drift
        const n1 = valueNoise2D(now * 0.0007, 0.0);
        const n2 = valueNoise2D(0.0, now * 0.0013);
        const ax = n1 * 40; // px/s^2
        const ay = n2 * 40;
        state.vx += ax * dt;
        state.vy += ay * dt;

        // Occasional saccadic jerk
        if (Math.random() < 0.02) {
          const ang = rand(-Math.PI, Math.PI);
          const mag = rand(0.5, 1.5) * state.speedMaxBurst;
          state.vx += Math.cos(ang) * mag;
          state.vy += Math.sin(ang) * mag;
        }

        // Repel from cursor
        const dx = state.x - cursor.x, dy = state.y - cursor.y;
        const dist = Math.hypot(dx, dy);
        if (dist < repelRadius) {
          const k = (1 - dist / repelRadius) * repelForce;
          state.vx += (dx / (dist || 1)) * k * dt;
          state.vy += (dy / (dist || 1)) * k * dt;
        }

        // Friction and speed clamp
        const maxS = (state.mode === 'saccade') ? state.speedMaxBurst : state.speedMaxCruise;
        state.vx *= state.friction; state.vy *= state.friction;
        const sp = Math.hypot(state.vx, state.vy);
        if (sp > maxS) { state.vx = (state.vx / sp) * maxS; state.vy = (state.vy / sp) * maxS; }

        // Integrate
        state.x += state.vx; state.y += state.vy;

        // Boundary bounce + edge-follow bias
        const margin = 20;
        if (state.x < margin || state.x > innerWidth - margin) {
          state.vx *= -0.9; state.x = clamp(state.x, margin, innerWidth - margin); state.vy += rand(-0.6, 0.6) * state.speedMaxCruise;
        }
        if (state.y < margin || state.y > innerHeight - margin) {
          state.vy *= -0.9; state.y = clamp(state.y, margin, innerHeight - margin); state.vx += rand(-0.6, 0.6) * state.speedMaxCruise;
        }

        // Depth wobble -> scale
        state.z += valueNoise2D(now * 0.001, now * 0.0012) * 0.003;
        state.z = clamp(state.z, -0.15, 0.15);
      }

      // Maybe land
      maybeLand(now);

      // Orientation + jitter
      const angle = Math.atan2(state.vy, state.vx) + Math.PI / 2;
      const jitter = rand(-0.15, 0.15);
      const scale = 1 + state.z + (state.mode === 'saccade' ? 0.08 : 0);
      fly.style.transform = `translate3d(${state.x}px, ${state.y}px, 0) translate(-50%, -50%) rotate(${(angle + jitter) * 180 / Math.PI}deg) scale(${scale.toFixed(3)})`;

      // Wing buzz micro-wobble
      img.style.transform = `translateZ(0) scale(${1 + Math.sin(now * 0.05) * 0.02})`;

      // Trail
      if ((now | 0) % 2 === 0) {
        trailPts[0].x += (state.x - trailPts[0].x) * elasticity;
        trailPts[0].y += (state.y - trailPts[0].y) * elasticity;
        for (let i = 1; i < trailPts.length; i++) {
          const p = trailPts[i], q = trailPts[i-1];
          p.x += (q.x - p.x) * elasticity;
          p.y += (q.y - p.y) * elasticity;
        }
        let d = `M ${trailPts[0].x.toFixed(1)} ${trailPts[0].y.toFixed(1)}`;
        for (let i = 1; i < trailPts.length; i++) d += ` L ${trailPts[i].x.toFixed(1)} ${trailPts[i].y.toFixed(1)}`;
        trailPath.setAttribute('d', d);
        trailStroke.setAttribute('d', d);
      }

      requestAnimationFrame(step);
    }

    requestAnimationFrame(step);

    // ===== Form handling =====
    const form = document.getElementById('contact-form');
    const status = document.getElementById('form-status');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const data = new FormData(form);
      const required = ['name','email','message'];
      for (const k of required) { if (!data.get(k)) { status.textContent = 'Please fill in all required fields.'; return; } }
      status.textContent = 'Thanks! Your message has been captured (demo).';
      form.reset();
    });
  </script>
</body>
</html>
